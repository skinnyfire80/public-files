<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Agujero Negro del Amor</title>

<style>
#modal-bienvenida{
position:fixed;
top:0;left:0;width:100vw;height:100vh;
background:rgba(10,10,30,0.92);
display:flex;
justify-content:center;
align-items:center;
z-index:9999;
transition:opacity 0.7s;
}
#modal-bienvenida.oculto{
opacity:0;
pointer-events:none;
}
#modal-bienvenida .contenido{
background:rgba(30,30,60,0.98);
border-radius:18px;
box-shadow:0 0 40px #000a;
padding:2.5rem;
text-align:center;
color:#fff;
font-size:2.2rem;
max-width:90vw;
}
#modal-bienvenida button{
margin-top:2rem;
font-size:1.3rem;
padding:0.8rem 2rem;
border-radius:12px;
background:#c9204b;
color:#fff;
border:none;
cursor:pointer;
}
html,body{
margin:0;
height:100%;
overflow:hidden;
background:radial-gradient(ellipse at bottom,#0d1b2a,#000000);
}
canvas{
display:block;
position:fixed;
top:0;
left:0;
width:100%;
height:100dvh;
}
</style>
</head>

<body>

<div id="modal-bienvenida">
<div class="contenido">
<div>Toca aquí ❤</div>
<img src="https://i.pinimg.com/736x/2e/08/91/2e0891b0f215a1afa9d3afe64381de4a.jpg"
style="max-width:80%; border-radius:12px; display:block; margin:1rem auto;">
<button id="btn-ingresar">Presiona aquí</button>
</div>
</div>

<canvas id="galaxy-canvas"></canvas>

<!-- TU AUDIO -->
<audio id="musica" loop>
<source src="AhaTok_Angel_664c63de-7999-4b59-b96f-c50831505653.mp3" type="audio/mpeg">
</audio>

<script type="importmap">
{
"imports":{
"three":"https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.module.js",
"three/addons/":"https://cdn.jsdelivr.net/npm/three@0.160.0/examples/jsm/"
}
}
</script>

<script type="module">

window.addEventListener('DOMContentLoaded',()=>{
const modal=document.getElementById('modal-bienvenida');
const btn=document.getElementById('btn-ingresar');
const audio=document.getElementById('musica');

btn.addEventListener('click',()=>{
modal.classList.add('oculto');
setTimeout(()=>{modal.style.display='none';},700);
audio.play();
});
});

import * as THREE from 'three';
import { OrbitControls } from 'three/addons/controls/OrbitControls.js';
import { FontLoader } from 'three/addons/loaders/FontLoader.js';
import { TextGeometry } from 'three/addons/geometries/TextGeometry.js';

const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,3000);
const renderer=new THREE.WebGLRenderer({
canvas:document.getElementById('galaxy-canvas'),
antialias:true
});
renderer.setSize(window.innerWidth,window.innerHeight);

const controls=new OrbitControls(camera,renderer.domElement);
controls.enableDamping=true;

/* ===== AGUJERO NEGRO ===== */
const blackHole=new THREE.Mesh(
new THREE.SphereGeometry(30,64,64),
new THREE.MeshStandardMaterial({color:0x000000})
);
scene.add(blackHole);

/* ===== TEXTO CENTRAL + FIRMA ===== */
const fontLoader=new FontLoader();
fontLoader.load(
'https://cdn.jsdelivr.net/npm/three@0.160.0/examples/fonts/gentilis_bold.typeface.json',
(font)=>{

// Texto principal
const textGeo=new TextGeometry("Para ti, mi niña",{
font:font,
size:26,
height:6,
bevelEnabled:true,
bevelThickness:1.5,
bevelSize:0.8
});
textGeo.computeBoundingBox();
const xOffset=-0.5*(textGeo.boundingBox.max.x-textGeo.boundingBox.min.x);

const mat=new THREE.MeshStandardMaterial({
color:0xffffff,
emissive:0xff66aa,
emissiveIntensity:1.4
});

const textMesh=new THREE.Mesh(textGeo,mat);
textMesh.position.set(xOffset,60,0);
scene.add(textMesh);

// Firma
const sigGeo=new TextGeometry("A&D",{
font:font,
size:10,
height:2
});
sigGeo.computeBoundingBox();
const sigOffset=-0.5*(sigGeo.boundingBox.max.x-sigGeo.boundingBox.min.x);

const sigMat=new THREE.MeshStandardMaterial({
color:0xff99cc,
emissive:0xff66aa,
emissiveIntensity:0.8
});

const sigMesh=new THREE.Mesh(sigGeo,sigMat);
sigMesh.position.set(sigOffset,30,0);
scene.add(sigMesh);

});

/* ===== DISCO DE ACRECIÓN ===== */
const diskGeometry=new THREE.RingGeometry(40,120,256);
const diskCanvas=document.createElement("canvas");
diskCanvas.width=1024;
diskCanvas.height=1024;
const ctx=diskCanvas.getContext("2d");

const gradient=ctx.createRadialGradient(512,512,100,512,512,500);
gradient.addColorStop(0,"rgba(255,255,255,0.9)");
gradient.addColorStop(0.3,"rgba(255,200,0,0.95)");
gradient.addColorStop(0.6,"rgba(255,100,0,0.9)");
gradient.addColorStop(1,"rgba(0,0,0,0)");
ctx.fillStyle=gradient;
ctx.fillRect(0,0,diskCanvas.width,diskCanvas.height);

const diskTexture=new THREE.CanvasTexture(diskCanvas);
const accretionDisk=new THREE.Mesh(
diskGeometry,
new THREE.MeshBasicMaterial({map:diskTexture,side:THREE.DoubleSide,transparent:true})
);
accretionDisk.rotation.x=Math.PI/2;
scene.add(accretionDisk);

/* ===== ESTRELLAS ===== */
const starGeometry=new THREE.BufferGeometry();
const starCount=6000;
const starPositions=new Float32Array(starCount*3);

for(let i=0;i<starCount;i++){
starPositions[i*3]=(Math.random()-0.5)*8000;
starPositions[i*3+1]=(Math.random()-0.5)*8000;
starPositions[i*3+2]=(Math.random()-0.5)*8000;
}

starGeometry.setAttribute('position',new THREE.BufferAttribute(starPositions,3));
const starMaterial=new THREE.PointsMaterial({color:0xffffff,size:1.2});
const stars=new THREE.Points(starGeometry,starMaterial);
scene.add(stars);

scene.add(new THREE.AmbientLight(0x8888aa,1));

/* ===== ANIMACIÓN ===== */
const clock=new THREE.Clock();

function animate(){
const elapsed=clock.getElapsedTime();
accretionDisk.rotation.z+=0.002;
renderer.render(scene,camera);
controls.update();
requestAnimationFrame(animate);
}

camera.position.set(0,180,700);
animate();

</script>
</body>
</html>
